{% extends "base.html" %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2>üè¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏</h2>
    <div>
        <a href="{{ url_for('admin_users') }}" class="btn btn-outline-primary">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</a>
        <a href="{{ url_for('admin_cities') }}" class="btn btn-outline-primary">üèôÔ∏è –ì–æ—Ä–æ–¥–∞</a>
        <a href="{{ url_for('index') }}" class="btn btn-outline-secondary">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
    </div>
</div>

<!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ -->
<div class="card mb-4">
    <div class="card-header bg-success text-white">
        <h5 class="mb-0">
            <i class="fas fa-plus-circle me-2"></i>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é
        </h5>
    </div>
    <div class="card-body">
        <form method="POST" action="{{ url_for('create_organization') }}">
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:</label>
                        <input type="text" name="name" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –≠–∫–æ—Ñ–æ–Ω–¥ '–ó–µ–ª–µ–Ω—ã–π –≥–æ—Ä–æ–¥'" required>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="form-label">–¢–∏–ø –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:</label>
                        <select name="org_type" class="form-select" required>
                            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø --</option>
                            <option value="non-profit">–ù–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è</option>
                            <option value="commercial">–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è</option>
                            <option value="governmental">–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è</option>
                            <option value="educational">–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏–µ</option>
                            <option value="volunteer">–í–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ</option>
                            <option value="other">–î—Ä—É–≥–æ–µ</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="mb-3">
                <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                <textarea name="description" class="form-control" rows="2" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏..."></textarea>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="form-label">–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ:</label>
                        <input type="text" name="contact_person" class="form-control" placeholder="–§–ò–û –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω:</label>
                        <input type="text" name="phone" class="form-control" placeholder="+7-XXX-XXX-XX-XX">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="form-label">Email:</label>
                        <input type="email" name="email" class="form-control" placeholder="email@example.com">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="form-label">–í–µ–±-—Å–∞–π—Ç:</label>
                        <input type="url" name="website" class="form-control" placeholder="https://example.com">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="form-label">–ì–æ—Ä–æ–¥:</label>
                        <select name="city_id" class="form-select" required>
                            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥ --</option>
                            {% for city in cities %}
                            <option value="{{ city.id }}">{{ city.name }} ({{ city.region }})</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>

            <button type="submit" class="btn btn-success">
                <i class="fas fa-save me-1"></i>–°–æ–∑–¥–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é
            </button>
        </form>
    </div>
</div>

<!-- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã -->
<div class="card mb-4">
    <div class="card-header bg-light">
        <h5 class="mb-0">
            <i class="fas fa-search me-2"></i>–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
        </h5>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-6">
                <div class="mb-3">
                    <label class="form-label">–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é:</label>
                    <div class="input-group">
                        <input type="text" id="searchInput" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏...">
                        <button class="btn btn-outline-secondary" type="button" id="clearSearch">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="mb-3">
                    <label class="form-label">–§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É:</label>
                    <select class="form-select" id="typeFilter">
                        <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
                        <option value="non-profit">–ù–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è</option>
                        <option value="commercial">–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è</option>
                        <option value="governmental">–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è</option>
                        <option value="educational">–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è</option>
                        <option value="volunteer">–í–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–∞—è</option>
                        <option value="other">–î—Ä—É–≥–æ–µ</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <span class="text-muted" id="searchResultsText">
                    –ù–∞–π–¥–µ–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π: <strong>{{ organizations|length }}</strong>
                </span>
            </div>
            <div>
                <button class="btn btn-outline-secondary btn-sm" id="resetFilters">
                    <i class="fas fa-refresh me-1"></i>–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
                </button>
            </div>
        </div>
    </div>
</div>

<!-- –°–ø–∏—Å–æ–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π -->
<div class="card">
    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
        <h5 class="mb-0">
            <i class="fas fa-list me-2"></i>–°–ø–∏—Å–æ–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
        </h5>
        <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="autoRefresh" checked>
            <label class="form-check-label text-white" for="autoRefresh">–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</label>
        </div>
    </div>
    <div class="card-body">
        {% if organizations %}
        <div class="table-responsive">
            <table class="table table-striped table-hover" id="organizationsTable">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>
                            –ù–∞–∑–≤–∞–Ω–∏–µ
                            <i class="fas fa-sort ms-1 cursor-pointer" data-sort="name"></i>
                        </th>
                        <th>
                            –¢–∏–ø
                            <i class="fas fa-sort ms-1 cursor-pointer" data-sort="type"></i>
                        </th>
                        <th>–ì–æ—Ä–æ–¥</th>
                        <th>–ö–æ–Ω—Ç–∞–∫—Ç—ã</th>
                        <th>
                            –°—Ç–∞—Ç—É—Å
                            <i class="fas fa-sort ms-1 cursor-pointer" data-sort="status"></i>
                        </th>
                        <th>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</th>
                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody id="organizationsTableBody">
                    {% for org in organizations %}
                    <tr class="org-row"
                        data-name="{{ org.name.lower() }}"
                        data-type="{{ org.org_type }}"
                        data-status="{{ 'active' if org.is_active else 'inactive' }}">
                        <td>{{ org.id }}</td>
                        <td>
                            <strong class="org-name">{{ org.name }}</strong>
                            {% if org.description %}
                            <br><small class="text-muted">{{ org.description[:100] }}{% if org.description|length > 100 %}...{% endif %}</small>
                            {% endif %}
                        </td>
                        <td class="org-type">
                            <span class="badge bg-{{ 'success' if org.org_type == 'non-profit' else 'primary' if org.org_type == 'commercial' else 'danger' if org.org_type == 'governmental' else 'info' if org.org_type == 'educational' else 'warning' if org.org_type == 'volunteer' else 'secondary' }}">
                                {% if org.org_type == 'non-profit' %}–ù–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è
                                {% elif org.org_type == 'commercial' %}–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è
                                {% elif org.org_type == 'governmental' %}–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è
                                {% elif org.org_type == 'educational' %}–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è
                                {% elif org.org_type == 'volunteer' %}–í–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–∞—è
                                {% else %}{{ org.org_type }}{% endif %}
                            </span>
                        </td>
                        <td class="org-city">{{ org.city_name }}</td>
                        <td class="org-contacts">
                            {% if org.contact_person %}
                            <div><i class="fas fa-user me-1"></i>{{ org.contact_person }}</div>
                            {% endif %}
                            {% if org.phone %}
                            <div><i class="fas fa-phone me-1"></i>{{ org.phone }}</div>
                            {% endif %}
                            {% if org.email %}
                            <div><i class="fas fa-envelope me-1"></i>{{ org.email }}</div>
                            {% endif %}
                        </td>
                        <td class="org-status">
                            <span class="badge bg-{{ 'success' if org.is_active else 'danger' }}">
                                {{ '–ê–∫—Ç–∏–≤–Ω–∞' if org.is_active else '–ù–µ–∞–∫—Ç–∏–≤–Ω–∞' }}
                            </span>
                        </td>
                        <td class="org-date">{{ org.created_date[:10] }}</td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <a href="#" class="btn btn-info btn-sm">
                                    <i class="fas fa-eye me-1"></i>–ü—Ä–æ—Å–º–æ—Ç—Ä
                                </a>
                                <button type="button" class="btn btn-warning btn-sm">
                                    <i class="fas fa-edit me-1"></i>–ò–∑–º–µ–Ω–∏—Ç—å
                                </button>
                                <button type="button" class="btn btn-{{ 'danger' if org.is_active else 'success' }} btn-sm">
                                    {{ '–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å' if org.is_active else '–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å' }}
                                </button>
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div id="noResults" class="text-center py-4 d-none">
            <i class="fas fa-search fa-3x text-muted mb-3"></i>
            <h5>–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h5>
            <p class="text-muted">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞</p>
        </div>
        {% else %}
        <div class="text-center py-4">
            <i class="fas fa-building fa-3x text-muted mb-3"></i>
            <h5>–ù–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π</h5>
            <p class="text-muted">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –∏—Å–ø–æ–ª—å–∑—É—è —Ñ–æ—Ä–º—É –≤—ã—à–µ</p>
        </div>
        {% endif %}
    </div>
</div>

<!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
<div class="card mt-4">
    <div class="card-header bg-info text-white">
        <h5 class="mb-0">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π</h5>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-3">
                <div class="card bg-light">
                    <div class="card-body text-center">
                        <h4 id="totalOrganizations">{{ organizations|length }}</h4>
                        <p class="mb-0">–í—Å–µ–≥–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card bg-light">
                    <div class="card-body text-center">
                        <h4 id="activeOrganizations">{{ organizations|selectattr('is_active', 'equalto', 1)|list|length }}</h4>
                        <p class="mb-0">–ê–∫—Ç–∏–≤–Ω—ã—Ö</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card bg-light">
                    <div class="card-body text-center">
                        <h4 id="nonProfitOrganizations">{{ organizations|selectattr('org_type', 'equalto', 'non-profit')|list|length }}</h4>
                        <p class="mb-0">–ù–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card bg-light">
                    <div class="card-body text-center">
                        <h4 id="commercialOrganizations">{{ organizations|selectattr('org_type', 'equalto', 'commercial')|list|length }}</h4>
                        <p class="mb-0">–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('searchInput');
    const typeFilter = document.getElementById('typeFilter');
    const clearSearch = document.getElementById('clearSearch');
    const resetFilters = document.getElementById('resetFilters');
    const organizationsTableBody = document.getElementById('organizationsTableBody');
    const noResults = document.getElementById('noResults');
    const searchResultsText = document.getElementById('searchResultsText');
    const autoRefresh = document.getElementById('autoRefresh');

    let currentSort = { column: 'name', direction: 'asc' };

    // –§—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
    function filterOrganizations() {
        const searchTerm = searchInput.value.toLowerCase().trim();
        const typeValue = typeFilter.value;

        let visibleCount = 0;
        let activeCount = 0;
        let nonProfitCount = 0;
        let commercialCount = 0;

        document.querySelectorAll('.org-row').forEach(row => {
            const orgName = row.getAttribute('data-name');
            const orgType = row.getAttribute('data-type');
            const orgStatus = row.getAttribute('data-status');

            const matchesSearch = searchTerm === '' || orgName.includes(searchTerm);
            const matchesType = typeValue === '' || orgType === typeValue;

            if (matchesSearch && matchesType) {
                row.style.display = '';
                visibleCount++;

                // –°–æ–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                if (orgStatus === 'active') activeCount++;
                if (orgType === 'non-profit') nonProfitCount++;
                if (orgType === 'commercial') commercialCount++;
            } else {
                row.style.display = 'none';
            }
        });

        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        searchResultsText.innerHTML = `–ù–∞–π–¥–µ–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π: <strong>${visibleCount}</strong>`;

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        document.getElementById('totalOrganizations').textContent = visibleCount;
        document.getElementById('activeOrganizations').textContent = activeCount;
        document.getElementById('nonProfitOrganizations').textContent = nonProfitCount;
        document.getElementById('commercialOrganizations').textContent = commercialCount;

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ "–Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"
        if (visibleCount === 0) {
            noResults.classList.remove('d-none');
            organizationsTableBody.style.display = 'none';
        } else {
            noResults.classList.add('d-none');
            organizationsTableBody.style.display = '';
        }
    }

    // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ç–∞–±–ª–∏—Ü—ã
    function sortTable(column, direction) {
        const rows = Array.from(document.querySelectorAll('.org-row:not([style*="display: none"])'));

        rows.sort((a, b) => {
            let aValue, bValue;

            switch(column) {
                case 'name':
                    aValue = a.querySelector('.org-name').textContent.toLowerCase();
                    bValue = b.querySelector('.org-name').textContent.toLowerCase();
                    break;
                case 'type':
                    aValue = a.querySelector('.org-type').textContent.toLowerCase();
                    bValue = b.querySelector('.org-type').textContent.toLowerCase();
                    break;
                case 'status':
                    aValue = a.querySelector('.org-status').textContent.toLowerCase();
                    bValue = b.querySelector('.org-status').textContent.toLowerCase();
                    break;
                default:
                    return 0;
            }

            if (direction === 'asc') {
                return aValue > bValue ? 1 : -1;
            } else {
                return aValue < bValue ? 1 : -1;
            }
        });

        // –ü–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ç–∞–±–ª–∏—Ü—É
        const tbody = document.getElementById('organizationsTableBody');
        rows.forEach(row => tbody.appendChild(row));
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
    searchInput.addEventListener('input', function() {
        if (autoRefresh.checked) {
            filterOrganizations();
        }
    });

    typeFilter.addEventListener('change', function() {
        if (autoRefresh.checked) {
            filterOrganizations();
        }
    });

    clearSearch.addEventListener('click', function() {
        searchInput.value = '';
        if (autoRefresh.checked) {
            filterOrganizations();
        }
    });

    resetFilters.addEventListener('click', function() {
        searchInput.value = '';
        typeFilter.value = '';
        filterOrganizations();
    });

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
    document.querySelectorAll('[data-sort]').forEach(icon => {
        icon.addEventListener('click', function() {
            const column = this.getAttribute('data-sort');
            if (currentSort.column === column) {
                currentSort.direction = currentSort.direction === 'asc' ? 'desc' : 'asc';
            } else {
                currentSort.column = column;
                currentSort.direction = 'asc';
            }
            sortTable(currentSort.column, currentSort.direction);

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–∫–æ–Ω–∫–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
            document.querySelectorAll('[data-sort]').forEach(i => {
                i.className = 'fas fa-sort ms-1 cursor-pointer';
            });
            this.className = `fas fa-sort-${currentSort.direction === 'asc' ? 'up' : 'down'} ms-1 cursor-pointer`;
        });
    });

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    filterOrganizations();
});
</script>

<style>
.cursor-pointer {
    cursor: pointer;
}

.org-row:hover {
    background-color: #f8f9fa !important;
}

.input-group .btn {
    border-left: none;
}

.table th {
    background-color: #f8f9fa;
    position: relative;
}

.table th i {
    opacity: 0.5;
    transition: opacity 0.2s;
}

.table th i:hover {
    opacity: 1;
}

#noResults {
    background-color: #f8f9fa;
    border-radius: 8px;
}

.badge {
    font-size: 0.75em;
}

.org-contacts div {
    font-size: 0.85em;
    margin-bottom: 2px;
}
</style>
{% endblock %}